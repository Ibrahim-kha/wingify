<html>
    <body>
        <h1 style="text-align: center;">To Do App<br>
            Count <span id="span"></span></h1>
            <div style="text-align: center;"><input id="input"></input><span> </span><button onclick="Add()">Add</button></div>
            <ul id="ul"></ul>
    </body>
    <script>
        var arr=[];
        var count=0;
        var dis=document.getElementById("span");
        dis.innerHTML=count;
        function Add(){
                
            var i=document.getElementById("input");
            if(i.value!=""&&!arr.includes(i.value)){
                count=count+1;
                let dis=document.getElementById("span");
                    dis.innerHTML=count;
                arr.push(i.value);
             var ul=document.getElementById("ul");
             ul.style.overflow="scroll";
             var check=document.createElement("input");
             check.setAttribute("type","checkbox");
             var div=document.createElement("div");
             var li=document.createElement("div");
             li.setAttribute("id",i.value);
             li.append(document.createTextNode(i.value));
             li.style.marginLeft="20px";
             li.style.marginTop="-20px";
             div.append(check);
             div.append(li);
             var but1=document.createElement("button");
             var but2=document.createElement("button");
             but1.setAttribute("class",i.value);
             but2.setAttribute("class",i.value);
             but1.innerHTML="Del";
             but2.innerHTML="Edit";
             but1.style.marginLeft="180px";
             but2.style.marginLeft="220px";
             but1.style.position="absolute";
             but2.style.position="absolute";
             but1.style.marginTop="-20px";
             but2.style.marginTop="-20px";
           
             div.append(but1);
             div.append(but2);
             ul.append(div);
             div.style.width="260px";
             div.style.marginBottom="10px";
             div.style.padding="10px";
            
             ul.style.marginLeft="600px";
             ul.style.marginRight="500px";
             
             div.style.border="1px black solid";
             div.style.borderRadius="5px";
             check.addEventListener('change',()=>{
                            if(check.checked==true){
                             but2.style.display="none";
                            }
                 })
             but1.addEventListener('click',(e)=>{
                div.style.display="none";
                let index=arr.indexOf(e.target.className);
                arr.splice(index,1);   
                count=count-1;
                let dis=document.getElementById("span");
        dis.innerHTML=count;
             })
             but2.addEventListener('click',(e)=>{
                 let id=e.target.className;
                 let index=arr.indexOf(e.target.className);
                  arr.splice(index,1);
                 let child=document.getElementById(id);
                 let inp=document.createElement("input");
                 let but=document.createElement("button");
                 but.innerHTML="Edited";
                 child.removeChild(child.childNodes[0]);
                 but1.style.display="none";
                 but2.style.display="none";
                 child.append(inp);
                 child.append(but);
                 but.addEventListener('click',()=>{
                     if(inp.value!=""&&!arr.includes(inp.value)){
                        child.removeChild(child.childNodes[0]);
                        child.removeChild(child.childNodes[0]);
                        child.append(inp.value);
                        but1.className=inp.value;
                        but2.className=inp.value;
                        child.id=inp.value;
                        but1.style.display="inline";
                        but2.style.display="inline";
                        arr.push(inp.value);
                     }
                 })
                



             })
            }
        }
    </script>
</html>